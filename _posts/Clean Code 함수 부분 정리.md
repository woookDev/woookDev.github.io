## Clean Code 함수 부분 정리

> ### "Small!"
> ####"The first rule of functions is that they should be small"

 당연하게도 함수는 짧게 작게 만들어야 가독성이 좋아지고 유지보수에 용이하다. 한 때 함수의 라인 제한을  screen-size에 두는 경우도 있었으나  Tool과 화면이 발달한 요즘에 와서는 보다 명확하게 **아무리 길어도 20 줄 이하**의 크기가 적당하다는 의견이 보편적이다.
 
책에서 언급하는 짧은 함수의 유용성은 Kent Beck 라는 프로그래머의 집에 놀러갔다가 보게된 놀라울 정도의 가독성의 코드에 기인한다. 당시 코드에서 함수는 2줄, 가장 긴 경우도 4줄에 해당하는 함수로 구성되었으며  모든 함수는 투명할 정도로 분명하게 의도파악이 쉽게 가능했다. 

이러한 함수 구성에는 Block과 Indenting을 잘 구성하는 노력이 필수적이다. if, else, while 문 블럭은 한 줄로 구성해야만 한다. 함수 이름이 함수의 역할을 잘 설명하는 이름이어야 하는 것은 물론이고 내부에서 함수를 선언하거나 구조체를 만들어서 복잡성을 만드는 것은 피해야 한다. Indenting 역시 함수 내에서 둘이 넘게 나오는 것은 잘못 구성한 것으로 봐야한다.

> ### "Do One Thing"

함수는 한가지만 해야하며 그것을 잘 해야하고 그것만 해야한다. 책에서 제시하는 함수가 하나의 일만 하는 것을 확인하는 방법은 To 즉, 해석하자면 **~하기위해** 라는 문장으로 구성해보는 것이다. 즉 함수의 목적을 드러내는 문장을 구성하였을 때 그 단계가 하나의 level에 해당하는 경우 해당 함수는 한 가지만 한다고 볼 수 있다. 만약 To를 사용한 문장으로 구성하여 그 단계가 다른 level까지 깊게 이어지는 단계라면 분명 한 가지 이상의 작업을 함수가 수행하는 것이고 함수를 더 작게 나눠서 구성하는 것이 맞다.

또한 함수를 보았을 때 Section으로 구분되어지는 함수라면 그 함수는 한 가지를 하는 함수가 아니다. 한 가지만 하는 함수는 합리적으로 Section 구분이 되지 않기 때문이다.

마지막으로 한 가지 작업을 하는 함수라는 것을 확인하기 위해 추상화 level이 같은 level에 있는 작업인지도 확인해야 한다. low level의 작업이 나눠지지 않고 한번에 이뤄지지 않는지 확인하여 나누게 되면 보다 한 가지 작업만 수행하는 함수를 명확하게 구성할 수 있다.

> ### "It's hard to make a small *switch* statement"

switch 문은 본질적으로 여러가지 작업을 나눠서 수행하는 구문이다. 따라서 한 가지 작업만 수행하는 함수를 구성하려할 때  switch문을 사용하게 되면 많은 어려움에 직면하게 된다. 책에서 예시로 나오는 Java 코드는 다음과 같다.

```java
public Money calculatePay(Employee e) 
throws InvalidEmployeeType {

}
```

